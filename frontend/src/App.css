.App-chat-root {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 24px;
  min-height: 100vh;
  box-sizing: border-box;
}

.chat-panel {
  width: 100%;
  max-width: 980px;
  height: 82vh;
  background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02)), var(--panel);
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  border-radius: 16px;
  box-shadow: 0 10px 30px rgba(2,6,23,0.55), 0 0 0 1px rgba(255,255,255,0.02) inset;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  border: 1px solid var(--border);
}

.chat-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 18px 22px;
  background: linear-gradient(90deg, rgba(15,23,36,0.9), rgba(11,18,32,0.9));
  color: #fff;
  border-bottom: 1px solid var(--border);
  box-shadow: 0 1px 0 rgba(255,255,255,0.04) inset;
}

.brand { display: flex; gap: 12px; align-items: center }
.brand .logo { font-size: 28px; }
.brand .logo.xl { font-size: 44px }
.brand h1 { margin: 0; font-size: 18px }
.brand .subtitle { margin: 0; font-size: 12px; color: var(--muted) }
.header-controls { display:flex; gap:8px; align-items:center }
.btn { border: 1px solid var(--border); padding: 8px 12px; border-radius: 10px; background: rgba(255,255,255,0.06); color: var(--text); box-shadow: 0 0 0 1px rgba(255,255,255,0.02) inset, 0 0 18px rgba(129,140,248,0.12); }
.btn.ghost { background: rgba(255,255,255,0.06) }
.btn.primary { background: linear-gradient(90deg,var(--primary), var(--primary-2)); color: #062023; border: none; box-shadow: 0 10px 24px rgba(34,211,238,0.25), 0 4px 12px rgba(129,140,248,0.18) }
.mini { font-size: 12px; padding: 6px 10px }

.chat-list {
  flex: 1 1 auto;
  padding: 24px;
  overflow: auto;
  background: linear-gradient(180deg, rgba(10,14,20,0.35), rgba(8,12,16,0.45));
}

.empty-state { text-align: center; color: var(--muted); margin-top: 80px }
.card { max-width: 640px; margin: 0 auto; padding: 24px; background: rgba(255,255,255,0.03); border: 1px solid var(--border); border-radius: 14px; }

.message { display: flex; gap: 12px; margin-bottom: 18px; align-items: flex-start }
.message .avatar { width: 44px; height: 44px; border-radius: 10px; display:flex;align-items:center;justify-content:center;font-size:20px }
.message.user { justify-content: flex-end }
.message.user .avatar { order: 2; background: linear-gradient(90deg,#2b6cb0,#4c51bf); color: #fff }
.message.user .bubble { order: 1; background: linear-gradient(135deg, rgba(34,211,238,0.95), rgba(129,140,248,0.95)); color: #04161a; border-radius: 14px 14px 4px 14px; box-shadow: 0 10px 22px rgba(34,211,238,0.25), 0 6px 14px rgba(129,140,248,0.18) }
.message.bot .avatar { background: rgba(255,255,255,0.06); color: #fff }
.message.bot .bubble { background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.04)); color: var(--text); border-radius: 14px 14px 14px 4px; box-shadow: 0 8px 18px rgba(2,6,23,0.5) }

.bubble { max-width: 78%; padding: 12px 14px; font-size: 14px; line-height: 1.6; box-shadow: 0 6px 18px rgba(2,6,23,0.5); border: 1px solid var(--border) }
.bubble p { margin: 0 0 8px 0 }

/* File card styling for uploads */
.file-card { display:flex; gap:12px; align-items:center; padding: 10px 12px; border: 1px dashed var(--border); border-radius: 12px; background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.04)); box-shadow: 0 6px 14px rgba(2,6,23,0.45); }
.file-icon { font-size: 20px }
.file-meta { display:flex; flex-direction:column; }
.file-name { font-weight: 700 }
.file-size { font-size: 12px; color: var(--muted) }

.typing { display: inline-flex; gap: 6px; padding: 8px 12px; align-items: center }
.typing .dot { width: 8px; height: 8px; background: #cbd5e1; border-radius: 50%; opacity: 0.6; animation: blink 1s infinite }
.typing .dot:nth-child(2) { animation-delay: 0.15s }
.typing .dot:nth-child(3) { animation-delay: 0.3s }
@keyframes blink { 0% {opacity: .2} 50% {opacity: 1} 100% {opacity: .2} }

.chat-input { padding: 16px; border-top: 1px solid var(--border); background: linear-gradient(180deg, rgba(10,14,20,0.5), rgba(8,12,16,0.5)) }
.input-wrap { display:flex; gap:12px; align-items: flex-end }
.chat-input textarea { flex: 1 1 auto; resize: none; border: 1px solid var(--border); background: radial-gradient(200px 140px at 0% 0%, rgba(129,140,248,0.15), transparent 60%), rgba(0,0,0,0.35); color: #fff; padding: 12px 14px; border-radius: 12px; min-height: 48px; font-family: inherit; box-shadow: 0 6px 14px rgba(2,6,23,0.45) }
.chat-input .input-actions { display:flex; align-items:center }
.chat-input .send { background: linear-gradient(90deg,var(--primary),var(--primary-2)); color: #062023; border: none; padding: 10px 16px; border-radius: 12px; font-weight: 700; box-shadow: 0 10px 24px rgba(34,211,238,0.25), 0 4px 12px rgba(129,140,248,0.18) }
.chat-input .send:disabled { opacity: 0.5; cursor: not-allowed }

.chat-error { color: #ffb4b4; padding: 12px 18px; text-align:center; background: rgba(255,0,0,0.06); border-top: 1px solid var(--border) }

@media (max-width: 640px) {
  .chat-panel { height: 92vh; border-radius: 12px }
  .bubble { max-width: 86% }
}

/* Markdown inside bubbles */
.bubble .md-h { margin: 0 0 8px 0; color: var(--text) }
.bubble .md-h1 { font-size: 16px; font-weight: 700 }
.bubble .md-h2 { font-size: 14px; font-weight: 700 }
.bubble .md-h3 { font-size: 13px; font-weight: 600 }
.bubble p { margin: 0 0 8px 0; color: inherit }
.bubble .md-list { padding-left: 18px; margin: 6px 0 10px 0 }
.bubble .md-list li { margin-bottom: 6px }
.bubble .md-inline-code { background: rgba(0,0,0,0.08); padding: 2px 6px; border-radius: 6px; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, 'Roboto Mono', monospace }
.bubble .md-code-wrap { position: relative }
.bubble .md-code-block { background: rgba(0,0,0,0.1); padding: 12px 12px 12px 14px; border-radius: 10px; overflow:auto; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, 'Roboto Mono', monospace; font-size: 13px; border: 1px solid var(--border) }
.bubble .copy-btn { position: absolute; top: 8px; right: 8px; font-size: 12px; padding: 6px 8px; border-radius: 8px; border: 1px solid var(--border); background: rgba(255,255,255,0.08); color: var(--text); cursor: pointer }
.bubble .copy-btn:hover { background: rgba(255,255,255,0.12) }
.bubble .copy-btn.copied { background: rgba(34,211,238,0.18); border-color: rgba(34,211,238,0.4) }
.bubble .copied-badge { position: absolute; top: -10px; right: 8px; transform: translateY(-100%); font-size: 11px; background: linear-gradient(90deg,var(--primary), var(--primary-2)); color: #062023; padding: 4px 8px; border-radius: 999px; box-shadow: 0 6px 14px rgba(34,211,238,0.25), 0 4px 10px rgba(129,140,248,0.18); animation: pop 0.2s ease }
@keyframes pop { from { transform: translateY(-100%) scale(0.96); opacity: .6 } to { transform: translateY(-100%) scale(1); opacity: 1 } }

/* Align user messages to the right visually */
.message.user { flex-direction: row-reverse; }
.message.user .bubble { text-align: left }

/* Streaming indicator */
.streaming-indicator {
  display: inline-block;
  margin-left: 2px;
}

.cursor-blink {
  animation: blink-cursor 1s infinite;
  font-weight: bold;
  color: var(--primary);
}

@keyframes blink-cursor {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}